# =============================================================================
# SAM - Production Environment Variables
# Copy this file and rename to .env for production deployment
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="SAM"
APP_ENV=production
APP_DEBUG=false
APP_TIMEZONE=America/Mexico_City
APP_URL=https://sam.yourdomain.com

# Generate with: php artisan key:generate --show
APP_KEY=base64:GENERATE_A_NEW_KEY_HERE

APP_LOCALE=es
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=es_MX

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
DB_CONNECTION=pgsql
DB_HOST=pgsql
DB_PORT=5432
DB_DATABASE=sam
DB_USERNAME=sam
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# PostgreSQL container vars (must match DB_* above)
POSTGRES_DB=sam
POSTGRES_USER=sam
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# =============================================================================
# REDIS (Cache + Queue + Sessions)
# =============================================================================
REDIS_CLIENT=predis
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1

# =============================================================================
# CACHE & SESSION & QUEUE
# =============================================================================
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_SECURE_COOKIE=true
QUEUE_CONNECTION=redis

# =============================================================================
# AI SERVICE
# =============================================================================
AI_SERVICE_BASE_URL=http://ai-service:8000

# AI Service internal settings (used by ai-service container)
ENVIRONMENT=production
MAX_CONCURRENT_REQUESTS=5
SEMAPHORE_TIMEOUT=30.0
RATE_LIMITING_ENABLED=true
LOG_FILE=/app/logs/ai-service.json

# Redis URL format for AI service (Python)
REDIS_URL=redis://redis:6379

# =============================================================================
# OPENAI
# =============================================================================
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
OPENAI_STANDARD_MODEL=gpt-4o-mini
OPENAI_ADVANCED_MODEL=gpt-4o

# =============================================================================
# SAMSARA
# =============================================================================
SAMSARA_API_TOKEN=samsara_api_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SAMSARA_BASE_URL=https://api.samsara.com

# =============================================================================
# TWILIO (Notifications)
# =============================================================================
TWILIO_ACCOUNT_SID=ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_PHONE_NUMBER=+1XXXXXXXXXX
TWILIO_WHATSAPP_NUMBER=whatsapp:+1XXXXXXXXXX
# Callback URL for voice calls (optional)
TWILIO_CALLBACK_URL=https://sam.yourdomain.com/api/twilio/callback

# =============================================================================
# LANGFUSE (Observability) - Cloud Version
# =============================================================================
LANGFUSE_PUBLIC_KEY=pk-lf-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
LANGFUSE_SECRET_KEY=sk-lf-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
LANGFUSE_HOST=https://cloud.langfuse.com

# =============================================================================
# LOGGING
# =============================================================================
# Laravel logging
LOG_CHANNEL=stack
LOG_STACK=daily,grafana
LOG_LEVEL=warning
LOG_DEPRECATIONS_CHANNEL=null

# =============================================================================
# MAIL (Optional - for notifications)
# =============================================================================
MAIL_MAILER=log
# MAIL_HOST=smtp.mailgun.org
# MAIL_PORT=587
# MAIL_USERNAME=
# MAIL_PASSWORD=
# MAIL_ENCRYPTION=tls
# MAIL_FROM_ADDRESS="sam@yourdomain.com"
# MAIL_FROM_NAME="${APP_NAME}"

# =============================================================================
# HORIZON (Queue Dashboard)
# =============================================================================
HORIZON_DOMAIN=sam.yourdomain.com
HORIZON_PATH=horizon
# HORIZON_NAME=production  # Optional: custom name

# =============================================================================
# TELESCOPE (Debug Dashboard) - Usually disabled in production
# =============================================================================
TELESCOPE_ENABLED=false
TELESCOPE_PATH=telescope

# =============================================================================
# SANCTUM (API Authentication)
# =============================================================================
SANCTUM_STATEFUL_DOMAINS=sam.yourdomain.com

# =============================================================================
# FILESYSTEM & MEDIA STORAGE (S3)
# =============================================================================
FILESYSTEM_DISK=local
MEDIA_DISK=s3

AWS_ACCESS_KEY_ID=your-r2-access-key-id
AWS_SECRET_ACCESS_KEY=your-r2-secret-access-key
AWS_DEFAULT_REGION=auto
AWS_BUCKET=sam-media
AWS_USE_PATH_STYLE_ENDPOINT=false
AWS_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
AWS_URL=https://media.yourdomain.com

# =============================================================================
# LARAVEL PULSE - Application Monitoring
# =============================================================================
PULSE_ENABLED=true
PULSE_STORAGE_KEEP="14 days"
PULSE_DB_CONNECTION=pgsql
PULSE_INGEST_DRIVER=redis
PULSE_REDIS_CONNECTION=default
PULSE_CACHE_DRIVER=redis
PULSE_SERVER_NAME=sam-app

# SAM Custom Recorders
PULSE_ALERT_PROCESSING_ENABLED=true
PULSE_TOKEN_USAGE_ENABLED=true
PULSE_NOTIFICATION_ENABLED=true
PULSE_AI_SERVICE_ENABLED=true
PULSE_COPILOT_ENABLED=true

# =============================================================================
# GRAFANA CLOUD (Log Shipping via Alloy)
# =============================================================================
GRAFANA_LOKI_URL=https://logs-prod-xxx.grafana.net/loki/api/v1/push
GRAFANA_LOKI_USER=123456
GRAFANA_LOKI_TOKEN=glc_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

